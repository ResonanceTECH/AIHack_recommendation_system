# MedAI - Система рекомендаций медикаментов

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![React](https://img.shields.io/badge/React-18.2.0-61dafb.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3.2-3178c6.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-009688.svg)
![Python](https://img.shields.io/badge/Python-3.11+-3776ab.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791.svg)
![Docker](https://img.shields.io/badge/Docker-24.0+-2496ed.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

</div>

<div align="center">

**Современная система рекомендаций медикаментов для врачей с использованием искусственного интеллекта**

*Персонализированные рекомендации лекарств на основе комплексного анализа медицинских данных пациента*

</div>

## Оглавление

- [Ключевая идея решения](#-ключевая-идея-решения)
- [Основные возможности](#-основные-возможности)
- [Архитектура проекта](#-архитектура-проекта)
- [Интерфейс пользователя](#-интерфейс-пользователя)
- [Запуск проекта](#-запуск-проекта)
- [API Endpoints](#-api-endpoints)
- [Система рекомендаций](#-система-рекомендаций)
- [Поддерживаемые задачи](#-поддерживаемые-задачи)
- [Особенности интерфейса](#-особенности-интерфейса)
- [Разработка](#-разработка)
- [Образовательные возможности](#-образовательные-возможности)
- [Команда](#-команда)
- [Лицензия](#-лицензия)

## Ключевая идея решения

MedAI решает критическую проблему современной медицины - **сложность выбора оптимальных медикаментов** с учетом индивидуальных особенностей пациента, клинических данных и потенциальных рисков. Система использует искусственный интеллект для анализа комплексных медицинских данных и предоставления обоснованных рекомендаций по лечению.

### Проблемы, которые решает MedAI:

- **Сложность выбора медикаментов** - Врачам сложно учесть все факторы при назначении
- **Риск лекарственных взаимодействий** - Автоматическая проверка совместимости
- **Индивидуализация лечения** - Учет особенностей каждого пациента
- **Документирование решений** - Полная история назначений и обоснований
- **Снижение ошибок** - ИИ-помощник для принятия решений

## Основные возможности

### Для врачей:
- **Безопасная аутентификация** - JWT токены, хеширование паролей
- **Управление пациентами** - Полная картотека с медицинской историей
- **Создание назначений** - 6-этапный мастер с ИИ-рекомендациями
- **Мониторинг лечения** - Отслеживание лабораторных показателей
- **История назначений** - Полная история с фильтрацией и поиском
- **Настройки профиля** - Персонализация интерфейса и уведомлений
- **Центр уведомлений** - Умные уведомления о важных событиях

### ИИ-функции:
- **Умные рекомендации** - Персонализированные рекомендации медикаментов
- **Анализ взаимодействий** - Проверка лекарственных взаимодействий
- **Оценка рисков** - Анализ факторов риска и противопоказаний
- **Обоснование выбора** - Ссылки на клинические исследования
- **Альтернативные варианты** - Второй и третий выбор с обоснованием
- **План мониторинга** - Рекомендации по контролю лечения

## Архитектура проекта

### Frontend (React + TypeScript + Vite)
- **Vite 5.0.0** - Мгновенная сборка и Hot Module Replacement
- **React 18.2.0** - Современная библиотека UI
- **TypeScript 5.3.2** - Статическая типизация
- **Material-UI 5.15.0** - Компоненты Material Design
- **React Router 6.20.1** - Клиентская маршрутизация
- **TanStack React Query 5.8.4** - Управление серверным состоянием
- **React Hook Form 7.48.2** - Управление формами
- **Recharts 2.8.0** - Графики и диаграммы

### Backend (FastAPI + Python)
- **FastAPI** - Современный веб-фреймворк с автодокументацией
- **Python 3.11+** - Высокопроизводительный язык
- **PostgreSQL 15** - Надежная реляционная БД
- **SQLAlchemy** - ORM для работы с БД
- **Alembic** - Миграции схемы БД
- **JWT** - Безопасная аутентификация
- **Pydantic** - Валидация и сериализация данных

### DevOps (Docker + Nginx)
- **Docker** - Контейнеризация приложений
- **Docker Compose** - Оркестрация сервисов
- **Nginx** - Reverse proxy и статический сервер
- **Health Checks** - Мониторинг состояния сервисов
- **Multi-stage builds** - Оптимизированные образы

## Интерфейс пользователя

### Главная страница
- **Современный дизайн** - Material Design с адаптивной версткой
- **Быстрая навигация** - Интуитивно понятное меню
- **Информативные блоки** - Статистика и быстрый доступ к функциям

### Личный кабинет врача
- **Панель управления** - Быстрый доступ к основным функциям
- **Статистика пациентов** - Количество активных пациентов и назначений
- **Последние назначения** - Быстрый просмотр недавних решений
- **Уведомления** - Центр важных сообщений

### Управление пациентами
- **Картотека пациентов** - Полный список с поиском и фильтрацией
- **Детальная карточка** - Вся медицинская информация в одном месте
- **Медицинская история** - Хронология лечения и назначений
- **Мониторинг** - Графики лабораторных показателей

### Создание назначений
- **6-этапный мастер** - Пошаговое создание назначений
- **ИИ-рекомендации** - Умные предложения на основе данных
- **Валидация данных** - Проверка корректности ввода
- **Предварительный просмотр** - Проверка перед сохранением

## Запуск проекта

### Системные требования

- **Docker 24.0+** и **Docker Compose**
- **Node.js 18+** (для локальной разработки)
- **Python 3.11+** (для локальной разработки)
- **8GB RAM** (рекомендуется)
- **2GB свободного места** на диске

### Быстрый запуск с Docker

1. **Клонируйте репозиторий:**
```bash
git clone https://github.com/your-username/medai-recommendation-system.git
cd medai-recommendation-system
```

2. **Запустите все сервисы:**
```bash
# Production окружение
make prod

# Или напрямую
docker-compose up -d
```

3. **Примените миграции базы данных:**
```bash
make db-migrate
```

4. **Откройте приложение:**
- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:8000
- **API документация**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### Локальная разработка

#### Backend (FastAPI)
```bash
cd backend

# Создайте виртуальное окружение
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate     # Windows

# Установите зависимости
pip install -r requirements.txt

# Настройте переменные окружения
cp env.example .env
# Отредактируйте .env файл

# Запустите базу данных
docker run -d --name medai-db \
  -e POSTGRES_DB=medai_db \
  -e POSTGRES_USER=medai_user \
  -e POSTGRES_PASSWORD=medai_password \
  -p 5432:5432 postgres:15

# Примените миграции
alembic upgrade head

# Запустите сервер
uvicorn app.main:app --reload
```

#### Frontend (React + Vite)
```bash
cd frontend

# Установите зависимости
npm install

# Запустите dev сервер
npm run dev
```

### Управление через Makefile

```bash
# Development
make dev              # Запуск dev окружения
make dev-logs         # Просмотр логов
make dev-down         # Остановка

# Production
make prod             # Запуск production
make prod-logs        # Просмотр логов
make prod-down        # Остановка

# База данных
make db-migrate       # Применить миграции
make db-shell         # Подключиться к БД

# Очистка
make clean            # Очистить контейнеры
make clean-all        # Очистить всё
```

## API Endpoints

### Аутентификация
```http
POST /api/v1/auth/register     # Регистрация врача
POST /api/v1/auth/login        # Вход в систему
POST /api/v1/auth/logout       # Выход из системы
GET  /api/v1/auth/me           # Получить текущего пользователя
PUT  /api/v1/auth/me           # Обновить профиль
```

### Пациенты
```http
GET    /api/v1/patients/              # Список пациентов
POST   /api/v1/patients/              # Создать пациента
GET    /api/v1/patients/{id}          # Получить пациента
PUT    /api/v1/patients/{id}          # Обновить пациента
DELETE /api/v1/patients/{id}          # Удалить пациента
GET    /api/v1/patients/{id}/history  # История пациента
```

### Назначения
```http
GET    /api/v1/prescriptions/              # Список назначений
POST   /api/v1/prescriptions/              # Создать назначение
GET    /api/v1/prescriptions/{id}          # Получить назначение
PUT    /api/v1/prescriptions/{id}          # Обновить назначение
DELETE /api/v1/prescriptions/{id}          # Удалить назначение
POST   /api/v1/prescriptions/{id}/ai       # Получить ИИ-рекомендации
```

### Лекарства
```http
GET    /api/v1/medications/           # Список лекарств
POST   /api/v1/medications/           # Добавить лекарство
GET    /api/v1/medications/{id}       # Получить лекарство
PUT    /api/v1/medications/{id}       # Обновить лекарство
DELETE /api/v1/medications/{id}       # Удалить лекарство
GET    /api/v1/medications/search     # Поиск лекарств
```

### Аналитика
```http
GET /api/v1/analytics/patients        # Статистика пациентов
GET /api/v1/analytics/prescriptions   # Статистика назначений
GET /api/v1/analytics/medications     # Статистика лекарств
GET /api/v1/analytics/trends          # Тренды и аналитика
```

## Система рекомендаций

### Алгоритм ИИ-рекомендаций

MedAI использует многофакторный анализ для генерации персонализированных рекомендаций:

#### 1. **Анализ пациента**
- Возраст, пол, вес, рост
- Диагноз и сопутствующие заболевания
- Лабораторные показатели
- Текущая терапия и аллергии

#### 2. **Оценка рисков**
- Лекарственные взаимодействия
- Противопоказания
- Факторы риска (кровотечения, падения)
- Социальные факторы (соблюдение режима)

#### 3. **Генерация рекомендаций**
- **Основная рекомендация** - Оптимальный выбор
- **Альтернативные варианты** - Второй и третий выбор
- **Обоснование** - Клинические данные и исследования
- **План мониторинга** - Контроль эффективности

### Уровни доказательности

- **A** - Высокий уровень (РКИ, мета-анализы)
- **B** - Средний уровень (когортные исследования)
- **C** - Низкий уровень (экспертные мнения)
- **D** - Очень низкий уровень (case reports)

### Система предупреждений

- **Критические** - Немедленное внимание
- **Высокие** - Требует обсуждения
- **Средние** - Рекомендуется мониторинг
- **Низкие** - Информационные

## Поддерживаемые задачи

### Клинические задачи
- **Подбор антикоагулянтов** - Варфарин, НОАК, гепарины
- **Управление дозировками** - Индивидуальный расчет
- **Мониторинг МНО** - Контроль эффективности
- **Оценка рисков** - Кровотечения vs тромбозы

### Аналитические задачи
- **Тренды лечения** - Анализ эффективности
- **Сравнение препаратов** - Сравнительная эффективность
- **Прогнозирование** - Предсказание исходов
- **Оптимизация** - Улучшение протоколов

### Исследовательские задачи
- **Клинические исследования** - Сбор данных
- **Фармакоэкономика** - Анализ затрат
- **Качество жизни** - Оценка результатов
- **Безопасность** - Мониторинг НЯ

## Особенности интерфейса

### Дизайн
- **Material Design 3** - Современный дизайн
- **Адаптивная верстка** - Работает на всех устройствах
- **Темная/светлая тема** - Настраиваемое оформление
- **Доступность** - Поддержка скрин-ридеров

### Производительность
- **Vite** - Мгновенная сборка и HMR
- **Code splitting** - Ленивая загрузка
- **Кэширование** - Оптимизация запросов
- **Оптимизация изображений** - Автоматическое сжатие

### Безопасность
- **JWT токены** - Безопасная аутентификация
- **HTTPS** - Шифрование трафика
- **Валидация данных** - Проверка на клиенте и сервере
- **CORS** - Настройка доступа

### Мобильность
- **PWA** - Прогрессивное веб-приложение
- **Офлайн режим** - Работа без интернета
- **Push уведомления** - Уведомления в браузере
- **Синхронизация** - Автоматическая синхронизация данных

## Разработка

### Структура проекта

```
medai-recommendation-system/
├── backend/                    # FastAPI backend
│   ├── app/
│   │   ├── api/               # API endpoints
│   │   │   └── v1/
│   │   │       └── endpoints/
│   │   ├── core/              # Конфигурация и безопасность
│   │   ├── db/                # База данных
│   │   ├── models/            # SQLAlchemy модели
│   │   └── schemas/           # Pydantic схемы
│   ├── alembic/               # Миграции БД
│   ├── requirements.txt       # Python зависимости
│   ├── Dockerfile             # Docker образ
│   └── .env.example           # Пример переменных окружения
├── frontend/                   # React frontend
│   ├── public/                # Статические файлы
│   ├── src/
│   │   ├── components/        # React компоненты
│   │   │   ├── Layout/        # Компоненты макета
│   │   │   ├── Patient/       # Компоненты пациентов
│   │   │   └── Notifications/ # Компоненты уведомлений
│   │   ├── pages/             # Страницы приложения
│   │   ├── services/          # API сервисы
│   │   ├── types/             # TypeScript типы
│   │   ├── contexts/          # React контексты
│   │   └── styles/            # Стили и темы
│   ├── package.json           # Node.js зависимости
│   ├── vite.config.ts         # Конфигурация Vite
│   ├── Dockerfile             # Docker образ
│   └── nginx.conf             # Nginx конфигурация
├── docker-compose.yml         # Docker Compose
├── Makefile                   # Команды управления
└── README.md                  # Документация
```

### Инструменты разработки

#### Frontend
- **Vite** - Быстрая сборка и HMR
- **ESLint** - Линтинг кода
- **TypeScript** - Статическая типизация
- **Material-UI** - UI компоненты
- **React Query** - Управление состоянием

#### Backend
- **FastAPI** - Веб-фреймворк
- **SQLAlchemy** - ORM
- **Alembic** - Миграции
- **Pytest** - Тестирование
- **Black** - Форматирование кода

#### DevOps
- **Docker** - Контейнеризация
- **Docker Compose** - Оркестрация
- **Nginx** - Reverse proxy
- **PostgreSQL** - База данных

### Тестирование

#### Backend тесты
```bash
cd backend
pytest tests/ -v --cov=app
```

#### Frontend тесты
```bash
cd frontend
npm test
```

#### E2E тесты
```bash
npm run test:e2e
```

### Мониторинг

- **Health checks** - Проверка состояния сервисов
- **Логирование** - Структурированные логи
- **Метрики** - Производительность и использование
- **Алерты** - Уведомления о проблемах

### CI/CD

- **GitHub Actions** - Автоматическая сборка и тестирование
- **Docker Hub** - Реестр образов
- **Автоматическое развертывание** - Staging и Production
- **Rollback** - Откат к предыдущим версиям

## Образовательные возможности

### Для студентов-медиков
- **Изучение фармакологии** - Интерактивные примеры
- **Клинические случаи** - Реальные сценарии
- **Система принятия решений** - Пошаговый анализ
- **Обратная связь** - Объяснение рекомендаций

### Для врачей
- **Повышение квалификации** - Новые протоколы
- **Клинические рекомендации** - Актуальные стандарты
- **Анализ случаев** - Разбор сложных ситуаций
- **Исследования** - Участие в клинических исследованиях

### Для исследователей
- **Сбор данных** - Анонимизированная статистика
- **Анализ эффективности** - Результаты лечения
- **Фармакоэкономика** - Анализ затрат
- **Публикации** - Материалы для статей

### Для медицинских учреждений
- **Стандартизация** - Единые протоколы
- **Качество** - Контроль назначений
- **Обучение персонала** - Повышение квалификации
- **Аналитика** - Отчеты и статистика

## Команда

### Разработчики
- **Frontend Developer** - React, TypeScript, Material-UI
- **Backend Developer** - FastAPI, Python, PostgreSQL
- **DevOps Engineer** - Docker, CI/CD, Infrastructure
- **UI/UX Designer** - Material Design, Accessibility

### Медицинские консультанты
- **Кардиолог** - Специализация по антикоагулянтам
- **Фармаколог** - Лекарственные взаимодействия
- **Клинический фармаколог** - Дозировки и мониторинг
- **Медицинский статистик** - Анализ данных

### Исследователи
- **Data Scientist** - Машинное обучение, ИИ
- **Биоинформатик** - Анализ медицинских данных
- **Клинический исследователь** - Дизайн исследований
- **Эпидемиолог** - Анализ популяционных данных

## 📄 Лицензия

Этот проект лицензирован под **MIT License** - см. файл [LICENSE](LICENSE) для деталей.

### Разрешения
- Коммерческое использование
- Модификация
- Распространение
- Частное использование

### Условия
- Указание авторства
- Включение лицензии

### Ограничения
- Ответственность
- Гарантии

## Вклад в проект

Мы приветствуем вклад в развитие MedAI! Вот как вы можете помочь:

### Сообщения об ошибках
1. Проверьте существующие issues
2. Создайте новый issue с подробным описанием
3. Приложите логи и скриншоты

### Предложения функций
1. Опишите предлагаемую функцию
2. Объясните пользу для пользователей
3. Предложите реализацию

### Pull Requests
1. Fork репозитория
2. Создайте feature branch
3. Внесите изменения
4. Добавьте тесты
5. Создайте Pull Request

### Документация
1. Улучшите существующую документацию
2. Добавьте примеры использования
3. Переведите на другие языки

## Поддержка

### Получить помощь
- **GitHub Issues** - Технические проблемы
- **Discussions** - Общие вопросы
- **Email** - support@medai.com
- **Telegram** - @medai_support

### Документация
- **API Docs** - http://localhost:8000/docs
- **User Guide** - [docs/](docs/)
- **FAQ** - [docs/faq.md](docs/faq.md)
- **Tutorials** - [docs/tutorials/](docs/tutorials/)

### Известные проблемы
- См. [Issues](https://github.com/your-username/medai-recommendation-system/issues)
- См. [Milestones](https://github.com/your-username/medai-recommendation-system/milestones)

## Roadmap

### Ближайшие планы (v1.1)
- [ ] Мобильное приложение
- [ ] Интеграция с МИС
- [ ] Расширенная аналитика
- [ ] Многоязычность

### Долгосрочные цели (v2.0)
- [ ] ИИ-модель для рекомендаций
- [ ] Интеграция с лабораториями
- [ ] Телемедицина
- [ ] Блокчейн для аудита

### Исследования
- [ ] Клинические исследования
- [ ] Публикации в журналах
- [ ] Конференции и доклады
- [ ] Партнерства с вузами

---

<div align="center">

**MedAI - Будущее персонализированной медицины уже здесь!**

*Создано с любовью для улучшения качества медицинской помощи*

[![GitHub](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)](https://github.com/your-username/medai-recommendation-system)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://hub.docker.com/r/medai/medai-system)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)

</div>